"use strict";(self.webpackChunkcapstone_management_system_front_end=self.webpackChunkcapstone_management_system_front_end||[]).push([["common"],{88287:(P,i,n)=>{n.d(i,{f:()=>m});var d=n(96354),c=n(99437),u=n(71985),D=n(7673),_=n(54438),E=n(66719);let m=(()=>{class a{constructor(s){this.db=s}getData(s){return this.db.list(s).snapshotChanges().pipe((0,d.T)(t=>t.map(r=>{const e=r.payload.val();return{id:r.payload.key,...e}})))}addData(s,t){const r=this.db.createPushId();return this.db.object(`${s}/${r}`).set(t)}deleteData(s,t){return this.db.object(`${s}/${t}`).remove()}login(s,t){return this.getData("users").pipe((0,d.T)(r=>{const e=r.find(o=>o.email===s&&o.password===t&&"admin"===o.role);if(e)return e;throw new Error("Invalid email or password")}),(0,c.W)(r=>new u.c(e=>e.error(r))))}getTableData(s,t,r){return this.getData(s).pipe((0,d.T)(e=>{console.log("\u{1f680} ~ FirebaseService ~ map ~ data:",e);const o=e.length,l=(t-1)*r;return{records:e.slice(l,l+r),currentPage:t,pageSize:r,totalItems:o}}),(0,c.W)(e=>(0,D.of)({records:[],currentPage:t,pageSize:r,totalItems:0})))}static{this.\u0275fac=function(t){return new(t||a)(_.KVO(E.w$))}}static{this.\u0275prov=_.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})()}}]);