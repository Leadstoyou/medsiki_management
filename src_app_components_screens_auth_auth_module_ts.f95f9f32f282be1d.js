"use strict";(self.webpackChunkcapstone_management_system_front_end=self.webpackChunkcapstone_management_system_front_end||[]).push([["src_app_components_screens_auth_auth_module_ts"],{13080:(U,m,e)=>{e.r(m),e.d(m,{AuthModule:()=>F});var x=e(40251),u=e(60177),p=e(51188),M=e(24905),f=e(57207),h=e(74566),n=e(54438),P=e(28761),v=e(44796),O=e(61723),b=e(88287),y=e(57291),a=e(89417),j=e(74227);function S(t,w){1&t&&n.nrm(0,"app-validation-error",15),2&t&&n.Y8G("control",w.$implicit)}const _=[{path:"",component:(()=>{class t extends M.${constructor(o,r,i,g,l,s,z){super(o),this.componentService=o,this.authService=r,this.authRepository=i,this.route=g,this.location=l,this.firebaseService=s,this.storageService=z,this.logo=f.KN,this.email="",this.password="",this.route.queryParams.subscribe(d=>{if(d.token){const c=JSON.parse((0,h.Yc)(d.token));(!c.user||!c.accessToken||!c.refreshToken)&&this.componentService.toast.error("screens.auth.loginFail");const C=c.user;this.authService.redirectUrl=f.NQ[C.role]+f.C[C.role],this.authService.startSession(c),this.componentService.toast.success("screens.auth.loginSuccess")}else if(d.error){const c=JSON.parse((0,h.Yc)(d.error));this.componentService.toast.error(c.message),this.clearErrorParam()}})}ngOnInit(){}onBlur(o){const r=this.getControl(o);r?.invalid&&(r.markAsDirty(),r.updateValueAndValidity({onlySelf:!0}))}login(){this.firebaseService.login(this.email,this.password).subscribe({next:o=>{console.log("\u{1f680} ~ LoginComponent ~ this.firebaseService.login ~ user:",o),this.authService.saveUser(o),this.redirect("/admin/home")},error:o=>{this.componentService.toast.error(o.message||"An error occurred during login.")}})}clearErrorParam(){this.location.replaceState(this.route.snapshot.routeConfig?.path||"","")}static{this.\u0275fac=function(r){return new(r||t)(n.rXU(P.b),n.rXU(v.u),n.rXU(O.$),n.rXU(p.nX),n.rXU(u.aZ),n.rXU(b.f),n.rXU(y.n))}}static{this.\u0275cmp=n.VBU({type:t,selectors:[["app-login"]],features:[n.Vt3],decls:27,vars:2,consts:[["error",""],[1,"body-login"],[1,"container"],[1,"form-container","sign-in"],[3,"ngSubmit"],["href","#"],[1,"input-container"],["for","email"],["id","email","type","email","name","email","placeholder","Enter your email","required","",3,"ngModelChange","ngModel"],["for","password"],["id","password","type","password","name","password","placeholder","Enter your password","required","",3,"ngModelChange","ngModel"],["type","submit",1,"google-signin"],[1,"toggle-container"],[1,"toggle"],[1,"toggle-panel","toggle-right"],[3,"control"]],template:function(r,i){if(1&r){const g=n.RV6();n.j41(0,"body",1)(1,"div",2)(2,"div",3)(3,"form",4),n.bIt("ngSubmit",function(){return n.eBV(g),n.Njj(i.login())}),n.j41(4,"h1"),n.EFF(5,"Login"),n.k0s(),n.j41(6,"a",5),n.EFF(7,"FPT University"),n.k0s(),n.j41(8,"div",6)(9,"label",7),n.EFF(10,"Email"),n.k0s(),n.j41(11,"input",8),n.mxI("ngModelChange",function(s){return n.eBV(g),n.DH7(i.email,s)||(i.email=s),n.Njj(s)}),n.k0s()(),n.j41(12,"div",6)(13,"label",9),n.EFF(14,"Password"),n.k0s(),n.j41(15,"input",10),n.mxI("ngModelChange",function(s){return n.eBV(g),n.DH7(i.password,s)||(i.password=s),n.Njj(s)}),n.k0s()(),n.j41(16,"button",11),n.EFF(17," Log in "),n.k0s()()(),n.j41(18,"div",12)(19,"div",13)(20,"div",14)(21,"h2"),n.EFF(22,"Capstone Project Management System"),n.k0s(),n.j41(23,"p"),n.EFF(24," Project management system exclusively for FPT lecturers and students, supporting effective management and tracking of Capstone project progress. "),n.k0s()()()()()(),n.DNE(25,S,1,1,"ng-template",null,0,n.C5r)}2&r&&(n.R7$(11),n.R50("ngModel",i.email),n.R7$(4),n.R50("ngModel",i.password))},dependencies:[a.qT,a.me,a.BC,a.cb,a.YS,a.vS,a.cV,j.v],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;font-family:Montserrat,sans-serif}.body-login[_ngcontent-%COMP%]{background-color:#c9d6ff;background:linear-gradient(to right,#e2e2e2,#c9d6ff);display:flex;align-items:center;justify-content:center;flex-direction:column;height:100vh}.container[_ngcontent-%COMP%]{background-color:#fff;border-radius:30px;box-shadow:0 5px 15px #00000059;overflow:hidden;text-align:center;position:relative;width:768px;max-width:100%;min-height:480px}.container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px;color:#000;margin:0}.container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;color:#000;margin:0}.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;line-height:20px;letter-spacing:.3px;margin:20px 0}.container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#333;font-size:16px;text-decoration:none;margin:15px 0 10px}.container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#3269ff;color:#fff;font-size:12px;padding:10px 45px;border:1px solid transparent;border-radius:8px;font-weight:600;letter-spacing:.5px;text-transform:uppercase;margin-top:10px;cursor:pointer}.container[_ngcontent-%COMP%]   button.hidden[_ngcontent-%COMP%]{background-color:transparent;border-color:#fff}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{background-color:#fff;display:flex;align-items:center;justify-content:center;flex-direction:column;padding:0 40px;height:100%}.form-container[_ngcontent-%COMP%]{position:absolute;top:0;height:100%;transition:all .6s ease-in-out}.sign-in[_ngcontent-%COMP%]{left:0;width:50%;z-index:2}.container.active[_ngcontent-%COMP%]   .sign-in[_ngcontent-%COMP%]{transform:translate(100%)}.container.active[_ngcontent-%COMP%]   .sign-up[_ngcontent-%COMP%]{transform:translate(100%);opacity:1;z-index:5;animation:_ngcontent-%COMP%_move .6s}@keyframes _ngcontent-%COMP%_move{0%,49.99%{opacity:0;z-index:1}50%,to{opacity:1;z-index:5}}.toggle-container[_ngcontent-%COMP%]{position:absolute;top:0;left:50%;width:50%;height:100%;overflow:hidden;transition:all .6s ease-in-out;border-radius:150px 0 0 100px;z-index:1000}.container.active[_ngcontent-%COMP%]   .toggle-container[_ngcontent-%COMP%]{transform:translate(-100%);border-radius:0 150px 100px 0}.toggle[_ngcontent-%COMP%]{background-color:#ff7e14;background:linear-gradient(to right,#ff7e14,#ff7e14);color:#fff;position:relative;left:-100%;height:100%;width:200%;transform:translate(0);transition:all .6s ease-in-out}.container.active[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]{transform:translate(50%)}.toggle-panel[_ngcontent-%COMP%]{position:absolute;width:50%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;padding:0 30px;text-align:center;top:0;transform:translate(0);transition:all .6s ease-in-out}.toggle-right[_ngcontent-%COMP%]{right:0;transform:translate(0)}.container.active[_ngcontent-%COMP%]   .toggle-right[_ngcontent-%COMP%]{transform:translate(200%)}.google-signin[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;color:#fff;padding:10px 20px;border-radius:5px;text-decoration:none;margin:10px 0;transition:background-color .3s}.google-signin[_ngcontent-%COMP%]:hover{background-color:#ffa127}.google-signin[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;margin-right:10px}.form-container[_ngcontent-%COMP%]{width:300px;margin:0 auto;padding:20px;background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a}.input-container[_ngcontent-%COMP%]{margin-bottom:15px}.input-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:14px;margin-bottom:5px}.input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:14px;border:1px solid #ccc;border-radius:4px}.google-signin[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#4285f4;color:#fff;font-size:16px;border:none;border-radius:4px;cursor:pointer;display:flex;align-items:center;justify-content:center}.google-signin[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;margin-right:10px}.google-signin[_ngcontent-%COMP%]:hover{background-color:#357ae8}.error-message[_ngcontent-%COMP%]{color:red;font-size:14px}"],changeDetection:0})}}return t})()}];let k=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=n.$C({type:t})}static{this.\u0275inj=n.G2t({imports:[p.iI.forChild(_),p.iI]})}}return t})(),F=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=n.$C({type:t})}static{this.\u0275inj=n.G2t({imports:[u.MD,k,x.o]})}}return t})()}}]);